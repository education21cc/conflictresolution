(this.webpackJsonpconflictresolution=this.webpackJsonpconflictresolution||[]).push([[0],{47:function(e,t,a){e.exports=a(83)},52:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n,r,c,o=a(0),i=a.n(o),s=a(31),l=a.n(s),u=(a(52),a(12)),m=a(43),d=a(23),p=a(8),f=a(7),v=a(13),g=function(e){var t=Object(o.useRef)(null),a=Object(o.useRef)(),n=Object(o.useState)(e.position||new f.Point),r=Object(u.a)(n,2),c=r[0],s=(r[1],e.bounce?"".concat(".","/images/ui/marker.svg"):"".concat(".","/images/ui/marker-green.svg"));Object(o.useEffect)((function(){v.a.from(t.current,{duration:1,ease:"elastic.out(2, 0.5)",pixi:{visible:!1,scale:.1}}).delay(e.delay||0)}),[e.delay]),Object(o.useEffect)((function(){var a;return!1!==e.bounce&&(a=v.a.to(t.current,{duration:.5,yoyo:!0,repeat:-1,pixi:{y:"-=40"}}).delay(1+Math.random())),function(){var e;null===(e=a)||void 0===e||e.kill()}}),[e.bounce]);var l=function(e){},m=function(){a.current=void 0},d=function(){};return i.a.createElement(p.Sprite,Object.assign({},e,{anchor:[.5,.5],position:c,ref:t,interactive:!0,image:s,mousedown:l,touchstart:l,mouseup:m,mouseupoutside:m,mousemove:d,touchmove:d}))},b=a(25),E=a.n(b);a(75);!function(e){e.sprite="sprite",e.avatar="avatar"}(n||(n={})),function(e){e.angle="angle",e.front="front",e.side="side",e.angry="angry"}(r||(r={})),function(e){e.caption="caption",e.speech="speech",e.image="image"}(c||(c={}));var h=a(5),y=a(85),w=a(45);var O=function(e){var t=e.sceneConfig,a=e.avatar,r=Object(w.a)(e,["sceneConfig","avatar"]);return i.a.createElement(p.Stage,{width:1280,height:720,className:"scene",options:{backgroundColor:16777215}},i.a.createElement(p.Container,r,t.map((function(e){return function(e){var t=[e.scale||1,e.scale||1];switch(e.flipped&&(t[0]=-t[0]),e.type){case n.avatar:return i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/").concat(a,"-").concat(e.pose||"front",".png"),key:"avatar",position:e.position||[0,0],scale:t,anchor:[.5,0]});default:return i.a.createElement(p.Sprite,{image:"".concat(".","/").concat(e.image),key:e.image,position:e.position||[0,0]})}}(e)}))))};a(76);v.a.registerPlugin(y.a);var x,j=function(e){var t=e.content,a=e.translations,n=e.avatar,r=e.selectedAnswer,s=void 0===r?null:r,l=Object(o.useState)(s),m=Object(u.a)(l,2),p=m[0],f=m[1],g=Object(o.useMemo)((function(){return null===p?null:e.content.reactions[p]}),[e.content.reactions,p]),b=Object(o.useState)(null!=s),E=Object(u.a)(b,2),y=E[0],w=E[1],x=Object(o.useState)((null===g||void 0===g?void 0:g.scene)||e.content.scene),j=Object(u.a)(x,2),N=j[0],k=j[1],S=Object(o.useRef)(null),C=Object(o.useRef)(null),A=Object(o.useRef)(null),R=Object(o.useRef)(null),M=Object(o.useRef)(null),W=Object(o.useRef)(null);Object(o.useEffect)((function(){d.a.add("correct","".concat(".","/sound/correct.mp3")),d.a.add("wrong","".concat(".","/sound/wrong.mp3"))}),[]);var P=Object(o.useRef)(),H=Object(o.useCallback)((function(){var e=v.a.timeline();P.current=e;var n=A.current,r=R.current;v.a.killTweensOf(n),v.a.killTweensOf(S.current),v.a.killTweensOf(r),W.current&&W.current.removeAttribute("style"),S.current.removeAttribute("style"),C.current.removeAttribute("style"),r.removeAttribute("style"),n.innerHTML=a[t.sequence[0].text],t.sequence.forEach((function(t,r){var o=function(){C.current&&(C.current.style.visibility=t.type===c.speech?"visible":"hidden"),t.type!==c.image&&(S.current&&(S.current.className="balloon ".concat(t.type)),n.innerHTML=a[t.text],t.balloonArrowPos&&C.current&&(C.current.style.right="".concat(t.balloonArrowPos,"%")),T()),t.scene&&k(t.scene)};switch(e.add("seq-".concat(r)),t.type){case c.caption:e.to(n,{onStart:o,duration:.025*a[t.text].length/1,text:{value:a[t.text],oldClass:"hidden",newClass:"visible"},ease:h.b.easeNone}),e.to(n,{duration:3});break;case c.speech:e.to(n,{onStart:o,duration:.045*a[t.text].length/1,ease:h.b.easeNone});break;case c.image:e.to(S.current,{onStart:o,duration:.25,autoAlpha:0,ease:h.b.easeNone}),e.to(C.current,{duration:.25,autoAlpha:0,ease:h.b.easeNone},"-=.25")}})),e.add("seq-".concat(t.sequence.length)),e.to(S.current,{delay:1,duration:.5,autoAlpha:0,ease:h.b.easeNone}),e.add("end"),e.to(r,{onStart:function(){W.current&&(W.current.style.display="none"),C.current&&(C.current.style.visibility="hidden")},duration:.5,left:0,ease:h.d.easeInOut},"-=1")}),[t.sequence,a]),T=function(){if(S.current&&C.current){var e=S.current.getBoundingClientRect();C.current.style.top="".concat(S.current.offsetTop+e.height,"px")}};Object(o.useEffect)((function(){return window.addEventListener("resize",T),function(){window.removeEventListener("resize",T)}}),[]);var q=function(){if(P.current){var e=parseInt(P.current.currentLabel().substring("seq-".length));isNaN(e)||P.current.seek("seq-".concat(e+1),!1)}};Object(o.useEffect)((function(){s?(R.current.style.left="0px",S.current.style.visibility="hidden"):H()}),[t.sequence,H,s]);var D=function(){w(!0),k(g.scene),g.correct?(d.a.play("correct"),e.setCorrectAnswer(p)):d.a.play("wrong")},B=function(){P.current&&(k(e.content.scene),f(null),w(!1),P.current.seek("end",!1))},I=function(e,t){if(null===p)return i.a.createElement("li",{key:e,className:"normal",onClick:function(e){return function(e,t){if(e.className="animating",M.current){var a=M.current.querySelectorAll(".options .normal");v.a.to(a,{duration:.5,opacity:0,ease:h.b.easeNone});var n=M.current.querySelector(".options").getBoundingClientRect().top,r=e.getBoundingClientRect().top,c=Math.abs(n-r);v.a.to(e,{duration:.5,top:-c,ease:h.b.easeNone,onComplete:function(){setTimeout((function(){e.className="",f(t)}),250)}})}}(e.currentTarget,t)}},i.a.createElement("div",{className:"text"},a[e]));if(p===t){var n="selected";return y&&(n=(null===g||void 0===g?void 0:g.correct)?"correct":"wrong"),i.a.createElement("li",{key:e,className:n},i.a.createElement("div",{className:"text"},a[e]))}};return i.a.createElement("div",{className:"modal-content modal-conflict",ref:M},i.a.createElement("div",{className:"balloon",ref:S},i.a.createElement("span",{ref:A})),i.a.createElement("div",{className:"balloon-arrow",ref:C,style:{visibility:"hidden"}}),i.a.createElement("div",{className:"situation",onClick:q},e.content.scene&&i.a.createElement(O,{sceneConfig:N,avatar:n}),i.a.createElement("div",{className:"inset",ref:R},i.a.createElement("p",null,a[t.description]),i.a.createElement("ul",{className:"options"},t.options.map((function(e,t){return I(e,t)}))),g?y?i.a.createElement(i.a.Fragment,null,(null===g||void 0===g?void 0:g.correct)&&i.a.createElement("p",{className:"right-option"},a["right-option"]),a[g.text].split("\n").map((function(e){return i.a.createElement("p",{key:e.substring(0,10)},e)})),!(null===g||void 0===g?void 0:g.correct)&&i.a.createElement("button",{onClick:B,className:"button-replay"},a["try-again-button"])):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,a[g.confirmText]),i.a.createElement("p",{className:"yesno"},i.a.createElement("button",{onClick:D},a.yes),i.a.createElement("span",{className:"motivation"},a[g.yesText])),i.a.createElement("p",{className:"yesno"},i.a.createElement("button",{onClick:B},a.no),i.a.createElement("span",{className:"motivation"},a[g.noText]))):null)),!p&&i.a.createElement("div",{className:"controls-bottomright"},i.a.createElement("button",{className:"button-replay",onClick:function(){k(e.content.scene),f(null),w(!1),H()}},a["replay-button"]),i.a.createElement("button",{className:"button-next",ref:W,onClick:q},">")))},N=function(e){var t=e.content,a=e.translations,n=e.onClose,r=e.setCorrectAnswer,c=e.selectedAnswer,o=e.avatar,s=function(){n()};return i.a.createElement(E.a,{isOpen:!0,ariaHideApp:!1,portalClassName:"modal-portal",overlayClassName:"modal-overlay",className:"modal",onRequestClose:s},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement("h1",null,a[t.header]," "),i.a.createElement("div",{className:"modal-close",onClick:function(){return s()}})),i.a.createElement(j,{content:t,translations:a,setCorrectAnswer:r,selectedAnswer:c,avatar:o})))},k=a(41),S=Object(o.forwardRef)((function(e,t){var a=Object(p.useApp)();if(a){var n="url('".concat(".","/img/cursors/dwarven_gauntlet_extra_6.png'), auto");a.renderer.plugins.interaction.cursorStyles.pointer=n}return i.a.createElement(C,Object.assign({app:a},e,{ref:t}))})),C=Object(p.PixiComponent)("Viewport",{create:function(e){var t=new k.a({screenWidth:e.screenWidth,screenHeight:e.screenHeight,worldWidth:e.worldWidth,worldHeight:e.worldHeight,ticker:e.app.ticker,interaction:e.app.renderer.plugins.interaction}),a=e.minScale,n=void 0===a?.5:a,r=e.maxScale,c=void 0===r?1:r;return t.drag().pinch().wheel().clamp({direction:"all"}).clampZoom({minScale:n,maxScale:c}).decelerate(),t}}),A=S,R=a(84),M="".concat(".","/images/map/conveyor-box.png"),W=function(e){var t=Object(o.useRef)(null),a=Object(o.useState)(),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Object(p.useApp)();return Object(o.useEffect)((function(){s.loader.resources[M]?c(s.loader.resources[M].texture):s.loader.add(M).load((function(e,t){c(t[M].texture)}))}),[s]),Object(o.useEffect)((function(){if(r){var e=function(e){var a,n=new f.Sprite(r);null===(a=t.current)||void 0===a||a.addChild(n),n.x=568,n.y=160;var c=v.a.timeline({delay:e,repeat:-1,repeatDelay:1});c.to(n,{ease:h.b.easeNone,pixi:{x:956,y:256},duration:5}),c.to(n,{ease:h.b.easeNone,pixi:{x:959,y:278},duration:.5}),c.to(n,{ease:h.b.easeNone,pixi:{x:541,y:473},duration:6}),c.to(n,{delay:1,ease:h.b.easeNone,pixi:{alpha:0},duration:1})};e(0),e(3),e(5.5),e(7),e(9.5)}}),[r]),i.a.createElement(p.Container,e,i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-small.png")}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/conveyor-right.png"),x:87,y:152}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-small.png"),x:160,y:39}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/conveyor-right.png"),x:251,y:192}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/conveyor-left.png"),x:520,y:234}),i.a.createElement(p.Container,{ref:t}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-small.png"),x:320,y:78}))};!function(e){e[e.northEast=0]="northEast",e[e.southEast=1]="southEast",e[e.southWest=2]="southWest",e[e.northWest=3]="northWest"}(x||(x={}));var P=Object(o.forwardRef)((function(e,t){return i.a.createElement(p.Container,Object.assign({},e,{ref:t}),e.orientation===x.northEast&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-up.png"),anchor:[.5,0]}),e.orientation===x.southEast&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-down.png"),anchor:[.5,0]}),e.orientation===x.southWest&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-down.png"),scale:[-1,1],anchor:[.5,0]}),e.orientation===x.northWest&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-up.png"),scale:[-1,1],anchor:[.5,0]}))})),H=function(e){var t=Object(o.useRef)(null),a=Object(o.useState)(x.southWest),n=Object(u.a)(a,2),r=n[0],c=n[1],s=Object(o.useState)(1),l=Object(u.a)(s,2),m=l[0],d=l[1];return Object(o.useEffect)((function(){var e=v.a.timeline({repeat:-1,repeatDelay:1});e.to(t.current,{onStart:function(){c(x.southEast),d(1)},ease:h.b.easeNone,pixi:{x:1135,y:148},duration:5}),e.to(t.current,{onStart:function(){c(x.southWest),d(0)},ease:h.b.easeNone,pixi:{x:782,y:330},duration:3.5}),e.to(t.current,{onStart:function(){c(x.northWest),d(3)},ease:h.b.easeNone,pixi:{x:42,y:130},duration:5}),e.to(t.current,{onStart:function(){c(x.northEast),d(0)},ease:h.b.easeNone,pixi:{x:306,y:58},duration:2}),e.to(t.current,{onStart:function(){c(x.southEast),d(2)},ease:h.b.easeNone,pixi:{x:906,y:241},duration:4}),e.to(t.current,{onStart:function(){c(x.southWest),d(0)},ease:h.b.easeNone,pixi:{x:782,y:330},duration:2}),e.to(t.current,{onStart:function(){c(x.northWest),d(3)},ease:h.b.easeNone,pixi:{x:42,y:130},duration:5})}),[]),i.a.createElement(p.Container,e,i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:385,y:-172}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:191,y:-84}),i.a.createElement(P,{orientation:r,ref:t,x:484,y:72}),1===m&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:385,y:-172}),m>0&&m<3&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:191,y:-84}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),y:0,x:0,name:"racks closest"}))};function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=i.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:none;stroke:#3FA548;stroke-width:32;}\n"),B=i.a.createElement("defs",null),I=i.a.createElement("g",{id:"Page-1"},i.a.createElement("polyline",{id:"checkmark",className:"st0",points:"11.33,88.97 88.95,166.87 244.67,11.32  "})),G=function(e){var t=e.svgRef,a=e.title,n=q(e,["svgRef","title"]);return i.a.createElement("svg",T({id:"m-check-mark",x:"0px",y:"0px",width:"255.97px",height:"189.51px",viewBox:"0 0 255.97 189.51",style:{enableBackground:"new 0 0 255.97 189.51"},xmlSpace:"preserve",ref:t},n),a?i.a.createElement("title",null,a):null,D,B,I)},L=i.a.forwardRef((function(e,t){return i.a.createElement(G,T({svgRef:t},e))})),F=(a.p,a(77),function(e){var t=e.content,a=e.translations;return i.a.createElement("div",{className:"legenda"},i.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(".","/images/avatars/").concat(e.avatar,"-front.png)")}}),i.a.createElement("ul",null,t.map((function(t,n){return function(t,n){return void 0===e.answers[n]?i.a.createElement("li",{className:"",onClick:function(){e.setSituationSelected(n)},key:t.header},a[t.header]):i.a.createElement("li",{className:"completed",key:t.header},i.a.createElement(L,{className:"check"}),a[t.header])}(t,n)}))))});R.a.registerPIXI(f),v.a.registerPlugin(R.a);var z=function(e){var t=e.content,a=e.translations,n=e.avatar,r=e.answers,c=e.setSituationOpen,s=Object(o.useRef)(null),l=Object(o.useState)(null),b=Object(u.a)(l,2),E=b[0],h=b[1],y=Object(o.useState)(1200),w=Object(u.a)(y,2),O=w[0],x=w[1],j=Object(o.useState)(600),k=Object(u.a)(j,2),S=k[0],C=k[1];Object(o.useEffect)((function(){var e=function(){var e=Math.min(window.innerWidth,window.outerWidth),t=Math.min(window.innerHeight,window.outerHeight);x(e),C(t)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(o.useEffect)((function(){if(s.current){var e=s.current;e.moveCenter(1748.5,709.5),e.scale=new f.Point(.5,.5)}}),[O,S]),Object(o.useEffect)((function(){E?v.a.to(s.current,{duration:.5,pixi:{blur:20}}):v.a.to(s.current,{duration:.5,pixi:{blur:0}}),c(null!==E)}),[E,c]),Object(o.useEffect)((function(){d.a.add("plops",{url:"".concat(".","/sound/plops.wav"),autoPlay:!0})}),[]);var R=Object(o.useMemo)((function(){return null===E?null:null===t||void 0===t?void 0:t[E]}),[t,E]),M=function(e,t){var a=.5*t,n=new f.Point(e.position[0],e.position[1]),c=void 0===r[t];return i.a.createElement(g,{position:n,pointerdown:function(){return function(e,t){h(t)}(0,t)},delay:a,bounce:c,key:e.position.join("-")})};return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.Stage,{width:O,height:S,options:{transparent:!0}},i.a.createElement(A,{screenWidth:O,screenHeight:S,worldWidth:3497,worldHeight:1419,ref:s},i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/warehouse-back.png")},i.a.createElement(H,{x:1153,y:207}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/safe.png"),x:2086,y:296}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/middle.png"),x:806,y:334}),i.a.createElement(W,{name:"Conveyor",x:269,y:498}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/packing.png"),x:995,y:848,name:"packing-table"}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/warehouse-front-wall.png"),y:705,name:"front-wall"}),t.map((function(e,t){return M(e,t)}))))),i.a.createElement(F,{avatar:e.avatar,translations:a,content:t,answers:r,setSituationSelected:h}),R&&i.a.createElement(N,{content:R,translations:a,onClose:function(){h(null)},avatar:n,setCorrectAnswer:function(t){var a=Object(m.a)(r);a[E]=t,e.setAnswers(a)},selectedAnswer:r[E]}))},_=a(42),J=(a(78),function(e){switch(e){case"avatar1":return"avatar1-angle";case"avatar2":return"avatar2-front";case"avatar3":return"avatar3-front";case"avatar4":return"avatar4-angle"}}),V=function(e){var t=e.selectedAvatar,a=e.translations,n=function(a,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=t===a?[new _.a(4,16763904)]:[],o=t===a?.7:.6,s=t===a?2:0,l="".concat(".","/images/avatars/").concat(J(a),".png");return i.a.createElement(p.Sprite,{image:l,filters:c,anchor:[.5,.5],scale:[r?-o:o,o],y:360,x:256+256*n,zIndex:s,interactive:!0,pointerdown:function(){return e.onChangeAvatar(a)}})};return i.a.createElement(E.a,{isOpen:!0,ariaHideApp:!1,portalClassName:"modal-portal",overlayClassName:"modal-overlay modal-intro-overlay",className:"modal modal-intro",onRequestClose:e.onClose},i.a.createElement("div",{className:"modal-content"},i.a.createElement("h1",{className:"header"},a["intro-header"]),i.a.createElement("div",{className:"avatar-selection"},i.a.createElement(p.Stage,{width:1280,height:720,options:{backgroundColor:16777215}},i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/background.png"),scale:1,anchor:.5,y:360,x:640}),i.a.createElement(p.Container,{sortableChildren:!0},n("avatar1",0),n("avatar2",1),n("avatar3",2),n("avatar4",3,!0))),i.a.createElement("div",{className:"footer"},i.a.createElement("p",{className:"subtext"},a["intro-subtext"],i.a.createElement("br",null),a["intro-choose-avatar"]),i.a.createElement("button",{onClick:e.onClose,disabled:void 0===e.selectedAvatar},a["intro-start"])))))},X=a(44);a(79);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var K=i.a.createElement("defs",null,i.a.createElement("style",null,".a{fill:#fff;}.a,.b{stroke:#283583;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.b{fill:none;}")),Q=i.a.createElement("title",null,"Back"),U=i.a.createElement("circle",{className:"a",cx:15.02,cy:15.02,r:14.65}),Y=i.a.createElement("path",{className:"b",d:"M11.64,16",transform:"translate(-0.97 -0.93)"}),ee=i.a.createElement("path",{className:"b",d:"M11.63,16",transform:"translate(-0.97 -0.93)"}),te=i.a.createElement("path",{className:"b",d:"M20.38,22.88",transform:"translate(-0.97 -0.93)"}),ae=i.a.createElement("line",{className:"b",x1:19.39,y1:8.16,x2:10.65,y2:15.02}),ne=i.a.createElement("line",{className:"b",x1:19.39,y1:21.98,x2:10.65,y2:15.11}),re=function(e){var t=e.svgRef,a=e.title,n=$(e,["svgRef","title"]);return i.a.createElement("svg",Z({width:30.04,height:30.04,viewBox:"0 0 30.04 30.04",ref:t},n),K,void 0===a?Q:a?i.a.createElement("title",null,a):null,U,Y,ee,te,ae,ne)},ce=i.a.forwardRef((function(e,t){return i.a.createElement(re,Z({svgRef:t},e))})),oe=(a.p,function(e){var t=e.gameDataReceived;return Object(o.useEffect)((function(){window.setGameData=function(e){ie({type:"setGameData",data:e})},window.GAMEDATA=null,window.getGameData=function(){return window.GAMEDATA},window.addEventListener("message",(function(e){e.data.hasOwnProperty("userId")&&(window.GAMEDATA=e.data,t(e.data))}),!1)}),[t]),i.a.createElement("div",{className:"close"},i.a.createElement(ce,{onClick:function(){ie({type:"exit"})}}))}),ie=function(e){if(window.hasOwnProperty("webkit")&&window.webkit.hasOwnProperty("messageHandlers")){var t=JSON.stringify(e);webkit.messageHandlers.cordova_iab.postMessage(t)}else window.parent.postMessage(e,"*")},se=(a(80),function(e){var t=e.translations,a=e.score;return Object(o.useEffect)((function(){var e=Object(X.a)({},window.GAMEDATA);e.levelsCompleted=[{level:1,score:a,maxScore:0}],console.log(e),ie({type:"setGameData",data:e})}),[a]),i.a.createElement(E.a,{isOpen:!0,ariaHideApp:!1,portalClassName:"modal-portal",overlayClassName:"modal-overlay modal-complete-overlay",className:"modal modal-complete"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("h1",{className:"header"},t["complete-header"]),i.a.createElement("div",{className:"avatar-selection"},i.a.createElement(p.Stage,{width:1280,height:720,options:{backgroundColor:16777215}},i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/background.png"),scale:1,anchor:.5,y:360,x:640}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/").concat(e.avatar,"-happy.png"),anchor:[.5,.5],scale:.8,y:360,x:640})),i.a.createElement("div",{className:"footer"},i.a.createElement("p",{className:"subtext"},t["complete-congrats"],i.a.createElement("br",null),i.a.createElement("button",{onClick:e.restart},t["replay-button"]))))))}),le=(a(81),function(){return i.a.createElement("div",{className:"loading-background"},i.a.createElement("div",{className:"white-block"},i.a.createElement("div",{className:"outset"}),i.a.createElement("div",{className:"blue-block"})),i.a.createElement("div",{className:"subtext"},"Stay curious",i.a.createElement("span",{className:"dots"},i.a.createElement("span",{className:"dot1"},"."),i.a.createElement("span",{className:"dot2"},"."),i.a.createElement("span",{className:"dot3"},"."))))});a(82);var ue=function(){var e=Object(o.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)([]),c=Object(u.a)(r,2),s=c[0],l=c[1],m=Object(o.useState)("avatar1"),d=Object(u.a)(m,2),p=d[0],f=d[1],v=Object(o.useState)(!1),g=Object(u.a)(v,2),b=g[0],E=g[1],h=Object(o.useState)({}),y=Object(u.a)(h,2),w=y[0],O=y[1],x=Object(o.useState)(),j=Object(u.a)(x,2),N=j[0],k=j[1],S=Object(o.useMemo)((function(){return null===N||void 0===N?void 0:N.content}),[N]),C=Object(o.useCallback)((function(e){if(k(e),e.translations){var t=e.translations.reduce((function(e,t){return e[t.key]=t.value,e}),{});O(t),document.title=t["intro-header"]}}),[]);Object(o.useEffect)((function(){0}),[S,C]);var A=Object(o.useMemo)((function(){return s.filter(Boolean).length===(null===S||void 0===S?void 0:S.length)}),[s,S]),R=Object(o.useMemo)((function(){return A&&!b}),[A,b]),M=!N;return i.a.createElement(i.a.Fragment,null,i.a.createElement(oe,{gameDataReceived:C}),M&&i.a.createElement(le,null),a&&!M&&i.a.createElement(V,{translations:w,selectedAvatar:p,onClose:function(){n(!1)},onChangeAvatar:f}),!R&&!a&&p&&S&&i.a.createElement(z,{content:S,translations:w,avatar:p,answers:s,setAnswers:l,setSituationOpen:E}),R&&p&&i.a.createElement(se,{avatar:p,restart:function(){l([])},score:s.length,translations:w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(o.StrictMode,null,i.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.150ceb0f.chunk.js.map